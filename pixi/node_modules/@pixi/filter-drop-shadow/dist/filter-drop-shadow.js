"use strict";/*!
 * @pixi/filter-drop-shadow - v5.0.0
 * Compiled Fri, 23 Sep 2022 20:48:56 UTC
 *
 * @pixi/filter-drop-shadow is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Object.defineProperty(exports,"__esModule",{value:!0});var o=require("@pixi/filter-kawase-blur"),r=require("@pixi/core"),v=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,m=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,y=Object.defineProperty,u=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,h=(t,e,i)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,p=(t,e)=>{for(var i in e||(e={}))x.call(e,i)&&h(t,i,e[i]);if(u)for(var i of u(e))w.call(e,i)&&h(t,i,e[i]);return t};const s=class extends r.Filter{constructor(t){super(),this.angle=45,this._distance=5,this._resolution=r.settings.FILTER_RESOLUTION;const e=t?p(p({},s.defaults),t):s.defaults,{kernels:i,blur:n,quality:l,pixelSize:d,resolution:a}=e;this._tintFilter=new r.Filter(v,m),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=new r.Point,this._tintFilter.resolution=a,this._blurFilter=i?new o.KawaseBlurFilter(i):new o.KawaseBlurFilter(n,l),this.pixelSize=d,this.resolution=a;const{shadowOnly:_,rotation:b,distance:F,alpha:f,color:g}=e;this.shadowOnly=_,this.rotation=b,this.distance=F,this.alpha=f,this.color=g,this._updatePadding()}apply(t,e,i,n){const l=t.getFilterTexture();this._tintFilter.apply(t,e,l,1),this._blurFilter.apply(t,l,i,n),this.shadowOnly!==!0&&t.applyFilter(this,e,i,0),t.returnFilterTexture(l)}_updatePadding(){this.padding=this.distance+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get distance(){return this._distance}set distance(t){this._distance=t,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/r.DEG_TO_RAD}set rotation(t){this.angle=t*r.DEG_TO_RAD,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(t){this._tintFilter.uniforms.alpha=t}get color(){return r.utils.rgb2hex(this._tintFilter.uniforms.color)}set color(t){r.utils.hex2rgb(t,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let c=s;c.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:r.settings.FILTER_RESOLUTION},exports.DropShadowFilter=c;
//# sourceMappingURL=filter-drop-shadow.js.map
