"use strict";/*!
 * @pixi/utils - v7.0.0-alpha.3
 * Compiled Fri, 23 Sep 2022 14:33:14 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Object.defineProperty(exports,"__esModule",{value:!0});var u=require("@pixi/settings"),N=require("eventemitter3"),L=require("earcut"),y=require("url"),d=require("@pixi/constants");function x(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var S=x(N),$=x(L);const A={parse:y.parse,format:y.format,resolve:y.resolve};function g(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function E(e){return e.split("?")[0].split("#")[0]}function B(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function q(e,r,t){return e.replace(new RegExp(B(r),"g"),t)}function I(e,r){let t="",a=0,n=-1,o=0,i;for(let l=0;l<=e.length;++l){if(l<e.length)i=e.charCodeAt(l);else{if(i===47)break;i=47}if(i===47){if(!(n===l-1||o===1))if(n!==l-1&&o===2){if(t.length<2||a!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const s=t.lastIndexOf("/");if(s!==t.length-1){s===-1?(t="",a=0):(t=t.slice(0,s),a=t.length-1-t.lastIndexOf("/")),n=l,o=0;continue}}else if(t.length===2||t.length===1){t="",a=0,n=l,o=0;continue}}r&&(t.length>0?t+="/..":t="..",a=2)}else t.length>0?t+=`/${e.slice(n+1,l)}`:t=e.slice(n+1,l),a=l-n-1;n=l,o=0}else i===46&&o!==-1?++o:o=-1}return t}const P={toPosix(e){return q(e,"\\","/")},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol(e){g(e),e=this.toPosix(e);let r="";const t=/^file:\/\/\//.exec(e),a=/^[^/:]+:\/\//.exec(e),n=/^[^/:]+:\//.exec(e);if(t||a||n){const o=t?.[0]||a?.[0]||n?.[0];r=o,e=e.slice(o.length)}return r},toAbsolute(e,r,t){if(this.isDataUrl(e))return e;const a=E(this.toPosix(r??u.settings.ADAPTER.getBaseUrl())),n=E(this.toPosix(t??this.rootname(a)));return g(e),e=this.toPosix(e),e.startsWith("/")?P.join(n,e.slice(1)):this.isAbsolute(e)?e:this.join(a,e)},normalize(e){if(e=this.toPosix(e),g(e),e.length===0)return".";let r="";const t=e.startsWith("/");this.hasProtocol(e)&&(r=this.rootname(e),e=e.slice(r.length));const a=e.endsWith("/");return e=I(e,!1),e.length>0&&a&&(e+="/"),t?`/${e}`:r+e},isAbsolute(e){return g(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join(...e){if(e.length===0)return".";let r;for(let t=0;t<e.length;++t){const a=e[t];if(g(a),a.length>0)if(r===void 0)r=a;else{const n=e[t-1]??"";this.extname(n)?r+=`/../${a}`:r+=`/${a}`}}return r===void 0?".":this.normalize(r)},dirname(e){if(g(e),e.length===0)return".";e=this.toPosix(e);let r=e.charCodeAt(0);const t=r===47;let a=-1,n=!0;const o=this.getProtocol(e),i=e;e=e.slice(o.length);for(let l=e.length-1;l>=1;--l)if(r=e.charCodeAt(l),r===47){if(!n){a=l;break}}else n=!1;return a===-1?t?"/":this.isUrl(i)?o+e:o:t&&a===1?"//":o+e.slice(0,a)},rootname(e){g(e),e=this.toPosix(e);let r="";if(e.startsWith("/")?r="/":r=this.getProtocol(e),this.isUrl(e)){const t=e.indexOf("/",r.length);t!==-1?r=e.slice(0,t):r=e,r.endsWith("/")||(r+="/")}return r},basename(e,r){g(e),r&&g(r),e=this.toPosix(e);let t=0,a=-1,n=!0,o;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";let i=r.length-1,l=-1;for(o=e.length-1;o>=0;--o){const s=e.charCodeAt(o);if(s===47){if(!n){t=o+1;break}}else l===-1&&(n=!1,l=o+1),i>=0&&(s===r.charCodeAt(i)?--i===-1&&(a=o):(i=-1,a=l))}return t===a?a=l:a===-1&&(a=e.length),e.slice(t,a)}for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!n){t=o+1;break}}else a===-1&&(n=!1,a=o+1);return a===-1?"":e.slice(t,a)},extname(e){g(e),e=this.toPosix(e);let r=-1,t=0,a=-1,n=!0,o=0;for(let i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(l===47){if(!n){t=i+1;break}continue}a===-1&&(n=!1,a=i+1),l===46?r===-1?r=i:o!==1&&(o=1):r!==-1&&(o=-1)}return r===-1||a===-1||o===0||o===1&&r===a-1&&r===t+1?"":e.slice(r,a)},parse(e){g(e);const r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;e=this.toPosix(e);let t=e.charCodeAt(0);const a=this.isAbsolute(e);let n;r.root=this.rootname(e),a||this.hasProtocol(e)?n=1:n=0;let o=-1,i=0,l=-1,s=!0,f=e.length-1,c=0;for(;f>=n;--f){if(t=e.charCodeAt(f),t===47){if(!s){i=f+1;break}continue}l===-1&&(s=!1,l=f+1),t===46?o===-1?o=f:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||l===-1||c===0||c===1&&o===l-1&&o===i+1?l!==-1&&(i===0&&a?r.base=r.name=e.slice(1,l):r.base=r.name=e.slice(i,l)):(i===0&&a?(r.name=e.slice(1,o),r.base=e.slice(1,l)):(r.name=e.slice(i,o),r.base=e.slice(i,l)),r.ext=e.slice(o,l)),r.dir=this.dirname(e),r},sep:"/",delimiter:":"};u.settings.RETINA_PREFIX=/@([0-9\.]+)x/,u.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;let w=!1;const C="7.0.0-alpha.3";function U(){w=!0}function F(e){if(!w){if(u.settings.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const r=[`
 %c %c %c PixiJS ${C} - \u2730 ${e} \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];globalThis.console.log(...r)}else globalThis.console&&globalThis.console.log(`PixiJS ${C} - ${e} - http://www.pixijs.com/`);w=!0}}let k;function j(){return typeof k>"u"&&(k=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:u.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!u.settings.ADAPTER.getWebGLRenderingContext())return!1;const r=u.settings.ADAPTER.createCanvas();let t=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const a=!!(t&&t.getContextAttributes().stencil);if(t){const n=t.getExtension("WEBGL_lose_context");n&&n.loseContext()}return t=null,a}catch{return!1}}()),k}var W="#f0f8ff",z="#faebd7",J="#00ffff",G="#7fffd4",H="#f0ffff",Y="#f5f5dc",Q="#ffe4c4",V="#000000",X="#ffebcd",K="#0000ff",Z="#8a2be2",ee="#a52a2a",re="#deb887",te="#5f9ea0",ae="#7fff00",ne="#d2691e",oe="#ff7f50",ie="#6495ed",le="#fff8dc",se="#dc143c",fe="#00ffff",ce="#00008b",de="#008b8b",ue="#b8860b",ge="#a9a9a9",he="#006400",ve="#a9a9a9",be="#bdb76b",pe="#8b008b",me="#556b2f",ye="#ff8c00",we="#9932cc",ke="#8b0000",xe="#e9967a",Ae="#8fbc8f",Ee="#483d8b",Pe="#2f4f4f",Ce="#2f4f4f",De="#00ced1",Te="#9400d3",_e="#ff1493",Me="#00bfff",Re="#696969",Oe="#696969",Ne="#1e90ff",Le="#b22222",Se="#fffaf0",$e="#228b22",Be="#ff00ff",qe="#dcdcdc",Ie="#f8f8ff",Ue="#daa520",Fe="#ffd700",je="#808080",We="#008000",ze="#adff2f",Je="#808080",Ge="#f0fff0",He="#ff69b4",Ye="#cd5c5c",Qe="#4b0082",Ve="#fffff0",Xe="#f0e68c",Ke="#fff0f5",Ze="#e6e6fa",er="#7cfc00",rr="#fffacd",tr="#add8e6",ar="#f08080",nr="#e0ffff",or="#fafad2",ir="#d3d3d3",lr="#90ee90",sr="#d3d3d3",fr="#ffb6c1",cr="#ffa07a",dr="#20b2aa",ur="#87cefa",gr="#778899",hr="#778899",vr="#b0c4de",br="#ffffe0",pr="#00ff00",mr="#32cd32",yr="#faf0e6",wr="#ff00ff",kr="#800000",xr="#66cdaa",Ar="#0000cd",Er="#ba55d3",Pr="#9370db",Cr="#3cb371",Dr="#7b68ee",Tr="#00fa9a",_r="#48d1cc",Mr="#c71585",Rr="#191970",Or="#f5fffa",Nr="#ffe4e1",Lr="#ffe4b5",Sr="#ffdead",$r="#000080",Br="#fdf5e6",qr="#808000",Ir="#6b8e23",Ur="#ffa500",Fr="#ff4500",jr="#da70d6",Wr="#eee8aa",zr="#98fb98",Jr="#afeeee",Gr="#db7093",Hr="#ffefd5",Yr="#ffdab9",Qr="#cd853f",Vr="#ffc0cb",Xr="#dda0dd",Kr="#b0e0e6",Zr="#800080",et="#663399",rt="#ff0000",tt="#bc8f8f",at="#4169e1",nt="#8b4513",ot="#fa8072",it="#f4a460",lt="#2e8b57",st="#fff5ee",ft="#a0522d",ct="#c0c0c0",dt="#87ceeb",ut="#6a5acd",gt="#708090",ht="#708090",vt="#fffafa",bt="#00ff7f",pt="#4682b4",mt="#d2b48c",yt="#008080",wt="#d8bfd8",kt="#ff6347",xt="#40e0d0",At="#ee82ee",Et="#f5deb3",Pt="#ffffff",Ct="#f5f5f5",Dt="#ffff00",Tt="#9acd32",_t={aliceblue:W,antiquewhite:z,aqua:J,aquamarine:G,azure:H,beige:Y,bisque:Q,black:V,blanchedalmond:X,blue:K,blueviolet:Z,brown:ee,burlywood:re,cadetblue:te,chartreuse:ae,chocolate:ne,coral:oe,cornflowerblue:ie,cornsilk:le,crimson:se,cyan:fe,darkblue:ce,darkcyan:de,darkgoldenrod:ue,darkgray:ge,darkgreen:he,darkgrey:ve,darkkhaki:be,darkmagenta:pe,darkolivegreen:me,darkorange:ye,darkorchid:we,darkred:ke,darksalmon:xe,darkseagreen:Ae,darkslateblue:Ee,darkslategray:Pe,darkslategrey:Ce,darkturquoise:De,darkviolet:Te,deeppink:_e,deepskyblue:Me,dimgray:Re,dimgrey:Oe,dodgerblue:Ne,firebrick:Le,floralwhite:Se,forestgreen:$e,fuchsia:Be,gainsboro:qe,ghostwhite:Ie,goldenrod:Ue,gold:Fe,gray:je,green:We,greenyellow:ze,grey:Je,honeydew:Ge,hotpink:He,indianred:Ye,indigo:Qe,ivory:Ve,khaki:Xe,lavenderblush:Ke,lavender:Ze,lawngreen:er,lemonchiffon:rr,lightblue:tr,lightcoral:ar,lightcyan:nr,lightgoldenrodyellow:or,lightgray:ir,lightgreen:lr,lightgrey:sr,lightpink:fr,lightsalmon:cr,lightseagreen:dr,lightskyblue:ur,lightslategray:gr,lightslategrey:hr,lightsteelblue:vr,lightyellow:br,lime:pr,limegreen:mr,linen:yr,magenta:wr,maroon:kr,mediumaquamarine:xr,mediumblue:Ar,mediumorchid:Er,mediumpurple:Pr,mediumseagreen:Cr,mediumslateblue:Dr,mediumspringgreen:Tr,mediumturquoise:_r,mediumvioletred:Mr,midnightblue:Rr,mintcream:Or,mistyrose:Nr,moccasin:Lr,navajowhite:Sr,navy:$r,oldlace:Br,olive:qr,olivedrab:Ir,orange:Ur,orangered:Fr,orchid:jr,palegoldenrod:Wr,palegreen:zr,paleturquoise:Jr,palevioletred:Gr,papayawhip:Hr,peachpuff:Yr,peru:Qr,pink:Vr,plum:Xr,powderblue:Kr,purple:Zr,rebeccapurple:et,red:rt,rosybrown:tt,royalblue:at,saddlebrown:nt,salmon:ot,sandybrown:it,seagreen:lt,seashell:st,sienna:ft,silver:ct,skyblue:dt,slateblue:ut,slategray:gt,slategrey:ht,snow:vt,springgreen:bt,steelblue:pt,tan:mt,teal:yt,thistle:wt,tomato:kt,turquoise:xt,violet:At,wheat:Et,white:Pt,whitesmoke:Ct,yellow:Dt,yellowgreen:Tt};function Mt(e,r=[]){return r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,r}function Rt(e){let r=e.toString(16);return r="000000".substring(0,6-r.length)+r,`#${r}`}function Ot(e){return typeof e=="string"&&(e=_t[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function Nt(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function Lt(){const e=[],r=[];for(let a=0;a<32;a++)e[a]=a,r[a]=a;e[d.BLEND_MODES.NORMAL_NPM]=d.BLEND_MODES.NORMAL,e[d.BLEND_MODES.ADD_NPM]=d.BLEND_MODES.ADD,e[d.BLEND_MODES.SCREEN_NPM]=d.BLEND_MODES.SCREEN,r[d.BLEND_MODES.NORMAL]=d.BLEND_MODES.NORMAL_NPM,r[d.BLEND_MODES.ADD]=d.BLEND_MODES.ADD_NPM,r[d.BLEND_MODES.SCREEN]=d.BLEND_MODES.SCREEN_NPM;const t=[];return t.push(r),t.push(e),t}const D=Lt();function St(e,r){return D[r?1:0][e]}function $t(e,r,t,a){return t=t||new Float32Array(4),a||a===void 0?(t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r):(t[0]=e[0],t[1]=e[1],t[2]=e[2]),t[3]=r,t}function Bt(e,r){if(r===1)return(r*255<<24)+e;if(r===0)return 0;let t=e>>16&255,a=e>>8&255,n=e&255;return t=t*r+.5|0,a=a*r+.5|0,n=n*r+.5|0,(r*255<<24)+(t<<16)+(a<<8)+n}function qt(e,r,t,a){return t=t||new Float32Array(4),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,(a||a===void 0)&&(t[0]*=r,t[1]*=r,t[2]*=r),t[3]=r,t}function It(e,r=null){const t=e*6;if(r=r||new Uint16Array(t),r.length!==t)throw new Error(`Out buffer length is incorrect, got ${r.length} and expected ${t}`);for(let a=0,n=0;a<t;a+=6,n+=4)r[a+0]=n+0,r[a+1]=n+1,r[a+2]=n+2,r[a+3]=n+0,r[a+4]=n+2,r[a+5]=n+3;return r}function T(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}const Ut={Float32Array,Uint32Array,Int32Array,Uint8Array};function Ft(e,r){let t=0,a=0;const n={};for(let s=0;s<e.length;s++)a+=r[s],t+=e[s].length;const o=new ArrayBuffer(t*4);let i=null,l=0;for(let s=0;s<e.length;s++){const f=r[s],c=e[s],p=T(c);n[p]||(n[p]=new Ut[p](o)),i=n[p];for(let h=0;h<c.length;h++){const R=(h/f|0)*a+l,O=h%f;i[R+O]=c[h]}l+=f}return new Float32Array(o)}function jt(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Wt(e){return!(e&e-1)&&!!e}function zt(e){let r=(e>65535?1:0)<<4;e>>>=r;let t=(e>255?1:0)<<3;return e>>>=t,r|=t,t=(e>15?1:0)<<2,e>>>=t,r|=t,t=(e>3?1:0)<<1,e>>>=t,r|=t,r|e>>1}function Jt(e,r,t){const a=e.length;let n;if(r>=a||t===0)return;t=r+t>a?a-r:t;const o=a-t;for(n=r;n<o;++n)e[n]=e[n+t];e.length=o}function Gt(e){return e===0?0:e<0?-1:1}let Ht=0;function Yt(){return++Ht}const _={};function Qt(e,r,t=3){if(_[r])return;let a=new Error().stack;typeof a>"u"?console.warn("PixiJS Deprecation Warning: ",`${r}
Deprecated since v${e}`):(a=a.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${r}
Deprecated since v${e}`),console.warn(a),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${r}
Deprecated since v${e}`),console.warn(a))),_[r]=!0}const Vt={},v=Object.create(null),b=Object.create(null);function Xt(){let e;for(e in v)v[e].destroy();for(e in b)b[e].destroy()}function Kt(){let e;for(e in v)delete v[e];for(e in b)delete b[e]}class Zt{constructor(r,t,a){this.canvas=u.settings.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=a||u.settings.RESOLUTION,this.resize(r,t)}clear(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}resize(r,t){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(t*this.resolution)}destroy(){this.context=null,this.canvas=null}get width(){return this.canvas.width}set width(r){this.canvas.width=Math.round(r)}get height(){return this.canvas.height}set height(r){this.canvas.height=Math.round(r)}}function ea(e){let r=e.width,t=e.height;const a=e.getContext("2d"),n=a.getImageData(0,0,r,t).data,o=n.length,i={top:null,left:null,right:null,bottom:null};let l=null,s,f,c;for(s=0;s<o;s+=4)n[s+3]!==0&&(f=s/4%r,c=~~(s/4/r),i.top===null&&(i.top=c),(i.left===null||f<i.left)&&(i.left=f),(i.right===null||i.right<f)&&(i.right=f+1),(i.bottom===null||i.bottom<c)&&(i.bottom=c));return i.top!==null&&(r=i.right-i.left,t=i.bottom-i.top+1,l=a.getImageData(i.left,i.top,r,t)),{height:t,width:r,data:l}}const M=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ra(e){const r=M.exec(e);if(r)return{mediaType:r[1]?r[1].toLowerCase():void 0,subType:r[2]?r[2].toLowerCase():void 0,charset:r[3]?r[3].toLowerCase():void 0,encoding:r[4]?r[4].toLowerCase():void 0,data:r[5]}}let m;function ta(e,r=globalThis.location){if(e.startsWith("data:"))return"";r=r||globalThis.location,m||(m=document.createElement("a")),m.href=e;const t=A.parse(m.href),a=!t.port&&r.port===""||t.port===r.port;return t.hostname!==r.hostname||!a||t.protocol!==r.protocol?"anonymous":""}function aa(e,r=1){const t=u.settings.RETINA_PREFIX.exec(e);return t?parseFloat(t[1]):r}Object.defineProperty(exports,"isMobile",{enumerable:!0,get:function(){return u.isMobile}}),Object.defineProperty(exports,"EventEmitter",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(exports,"earcut",{enumerable:!0,get:function(){return $.default}}),exports.BaseTextureCache=b,exports.CanvasRenderTarget=Zt,exports.DATA_URI=M,exports.ProgramCache=Vt,exports.TextureCache=v,exports.clearTextureCache=Kt,exports.correctBlendMode=St,exports.createIndicesForQuads=It,exports.decomposeDataUri=ra,exports.deprecation=Qt,exports.destroyTextureCache=Xt,exports.determineCrossOrigin=ta,exports.getBufferType=T,exports.getResolutionOfUrl=aa,exports.hex2rgb=Mt,exports.hex2string=Rt,exports.interleaveTypedArrays=Ft,exports.isPow2=Wt,exports.isWebGLSupported=j,exports.log2=zt,exports.nextPow2=jt,exports.path=P,exports.premultiplyBlendMode=D,exports.premultiplyRgba=$t,exports.premultiplyTint=Bt,exports.premultiplyTintToRgba=qt,exports.removeItems=Jt,exports.rgb2hex=Nt,exports.sayHello=F,exports.sign=Gt,exports.skipHello=U,exports.string2hex=Ot,exports.trimCanvas=ea,exports.uid=Yt,exports.url=A;
//# sourceMappingURL=utils.min.js.map
