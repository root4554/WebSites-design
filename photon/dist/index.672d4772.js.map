{"mappings":"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","sources":["script.js"],"sourcesContent":["var map = L.map(\"map\").setView([43.33823, -1.78927], 13);\r\n\r\nL.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\").addTo(map);\r\n\r\nL.marker([43.33823, -1.78927])\r\n  .addTo(map)\r\n  .bindPopup('<canvas id=\"irun\"></canvas>');\r\n// errenteria\r\nL.marker([43.31195, -1.90234])\r\n  .addTo(map)\r\n  .bindPopup('<canvas id=\"errenteria\"></canvas>');\r\n// donostia\r\nL.marker([43.29181, -1.98851])\r\n  .addTo(map)\r\n  .bindPopup('<canvas id=\"donostia\"></canvas>');\r\n// hondarribia\r\nL.marker([43.3625, -1.7915])\r\n  .addTo(map)\r\n  .bindPopup('<canvas id=\"hondarribia\"></canvas>');\r\n\r\n//** */\r\nconst municipio = (municipio) => {\r\n  let eusOffers = offersEus.map((offer) => offer.municipio);\r\n  let esOffers = offersEsp.map((offer) => offer.municipio);\r\n\r\n  let euslistcount = eusOffers.filter((x) => x === municipio).length;\r\n  let eslistcount = esOffers.filter((x) => x === municipio).length;\r\n  let euslist = offersEus.filter((x) => x.municipio === municipio);\r\n  let eslist = offersEsp.filter((x) => x.municipio === municipio);\r\n  // euslist = euslist.map((x) => x.desEmpleo);\r\n  // eslist = eslist.map((x) => x.desEmpleo);\r\n  // console.log(euslist.length);\r\n  // console.log(eslist.length);\r\n\r\n  return [eslistcount, euslistcount, eslist, euslist];\r\n};\r\n\r\nlet IrunChart;\r\nmap.on(\"popupopen\", () => {\r\n  if (IrunChart) {\r\n    IrunChart.destroy();\r\n  }\r\n  const ctx = document.getElementById(\"irun\");\r\n  if (ctx) {\r\n    showOffers(\"IRUN\");\r\n    IrunChart = new Chart(ctx, {\r\n      type: \"bar\",\r\n      data: {\r\n        labels: [\"ES\", \"EU\"],\r\n        datasets: [\r\n          {\r\n            label: \"Empleos de lanbide en Irun\",\r\n            data: [municipio(\"IRUN\")[0], municipio(\"IRUN\")[1]],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          y: {\r\n            beginAtZero: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n});\r\nlet RenteChart;\r\nmap.on(\"popupopen\", () => {\r\n  if (RenteChart) {\r\n    RenteChart.destroy();\r\n  }\r\n  const ctx = document.getElementById(\"errenteria\");\r\n  if (ctx) {\r\n    showOffers(\"ERRENTERIA\");\r\n    RenteChart = new Chart(ctx, {\r\n      type: \"bar\",\r\n      data: {\r\n        labels: [\"ES\", \"EU\"],\r\n        datasets: [\r\n          {\r\n            label: \"Empleos de lanbide en Irun\",\r\n            data: [municipio(\"ERRENTERIA\")[0], municipio(\"ERRENTERIA\")[1]],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          y: {\r\n            beginAtZero: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n  // showOffers(\"ERRENTERIA\");\r\n});\r\nlet DonostiChart;\r\nmap.on(\"popupopen\", () => {\r\n  if (DonostiChart) {\r\n    DonostiChart.destroy();\r\n  }\r\n  const ctx = document.getElementById(\"donostia\");\r\n  if (ctx) {\r\n    showOffers(\"DONOSTIA/SAN SEBASTIÁN\");\r\n    DonostiChart = new Chart(ctx, {\r\n      type: \"bar\",\r\n      data: {\r\n        labels: [\"ES\", \"EU\"],\r\n        datasets: [\r\n          {\r\n            label: \"Empleos de lanbide en Irun\",\r\n            data: [\r\n              municipio(\"DONOSTIA/SAN SEBASTIÁN\")[0],\r\n              municipio(\"DONOSTIA/SAN SEBASTIÁN\")[1],\r\n            ],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          y: {\r\n            beginAtZero: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n  // showOffers(\"DONOSTIA/SAN SEBASTIÁN\");\r\n});\r\nlet HondaChart;\r\nmap.on(\"popupopen\", () => {\r\n  if (HondaChart) {\r\n    HondaChart.destroy();\r\n  }\r\n  const ctx = document.getElementById(\"hondarribia\");\r\n  if (ctx) {\r\n    showOffers(\"HONDARRIBIA\");\r\n    HondaChart = new Chart(ctx, {\r\n      type: \"bar\",\r\n      data: {\r\n        labels: [\"ES\", \"EU\"],\r\n        datasets: [\r\n          {\r\n            label: \"Empleos de lanbide en Irun\",\r\n            data: [municipio(\"HONDARRIBIA\")[0], municipio(\"HONDARRIBIA\")[1]],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          y: {\r\n            beginAtZero: true,\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }\r\n  // showOffers(\"HONDARRIBIA\");\r\n});\r\n\r\nconst showOffers = (city) => {\r\n  console.log(city);\r\n  let sidebar = document.querySelector(\".sidebar\");\r\n  if (sidebar.contains(document.querySelector(\".remove\"))) {\r\n    console.log(\"siremo\");\r\n    sidebar.removeChild(document.querySelector(\".remove\"));\r\n  }\r\n\r\n  let Groupenav = document.createElement(\"div\");\r\n  Groupenav.className = \"nav-group remove\";\r\n  Groupenav.innerHTML = `<h3>Ofertas de empleo</h3>\r\n  <h3 class=\"nav-group-title\">Castellano</h3>\r\n  <ul class=\"nav-group\" style=\"padding: 0;\">\r\n     ${municipio(city)[2].map(\r\n       (x) =>\r\n         `<li class=\"nav-group-item\"><a href=\"${x.url}\" target=\"blank\">${x.desEmpleo}</a>\r\n         <p>${x.municipio}</p>\r\n         <p>${x.fecPub}</p>\r\n         </li>`\r\n     )}\r\n  </ul>\r\n  <h3 class=\"nav-group-title\">Euskera</h3>\r\n  <ul class=\"nav-group\" style=\"padding: 0;\">\r\n      ${municipio(city)[3].map(\r\n        (x) =>\r\n          `<li class=\"nav-group-item\"><a href=\"${x.url}\" target=\"blank\">${x.desEmpleo}</a>\r\n          <p>${x.municipio}</p>\r\n          <p>${x.fecPub}</p>\r\n          </li>`\r\n      )}\r\n  </ul>\r\n  `;\r\n  sidebar.appendChild(Groupenav);\r\n};\r\n"],"names":[],"version":3,"file":"index.672d4772.js.map","sourceRoot":"/__parcel_source_root/"}